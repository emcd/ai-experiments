id: 'Read + Analyze'
# TODO: Support replacement or supplemental instructions.
template: |
  Please analyze the file at `${variables.path}` via a function that employs an
  AI agent.

  After the analysis is complete, please recapitulate it, merging the summaries
  of any structural entities which crossed chunk boundaries and accounting for
  any entities which were referenced before they were defined. Also, please
  provide a high-level summary of the file, including its purpose and a list of
  potential improvements.
# TODO: requires-functions: [ 'read' ]
variables:
  - id: 'path'
    label: 'Path'
